# Inquiry Token Status

**Description**

For inquiring status of the specified Token

```
[GROUP][COPYABLE]
---[Test Endpoint]---
https://APIPORTALTEST.kasikornbank.com:12002/kplus/payment/inquire-token
```

**Request Parameters**

| Field                        | Data Type | Description                                          | Example                                              | Mandatory |
| ---------------------------- | --------- | ---------------------------------------------------- | ---------------------------------------------------- | :-------: |
| [colspan=5] Header parameter |
| content-type                 | string    | Type of content as application/json                  | application/json                                     |     Y     |
| [colspan=5] Body parameter   |
| partnerTxnUid                | string    | ID to uniquely define each request from partner      | RGH001030118001                                      |     Y     |
| partnerId                    | string    | Partner ID will be provided to each partner by KBank | KP2XXX000033159                                      |     Y     |
| partnerSecret                | string    | Secret key to identify each partner                  | S1AyQ0ZCMDAwMDMzMTU5LWtwbHVzLXNpdC0yYzJwLWZhY2Vib29r |     Y     |
| requestDt                    | long      | Timestamp in unix                                    | 1519630776                                           |     Y     |
| tokenId                      | string    | Order reference id generated by kplus                | KP2XXX00003315900BBC3C374D644DE9F2BA5CDC189C27B      |     Y     |

**Response Message**

| Field             | Data Type    | Description                                                                    |
| ----------------- | ------------ | ------------------------------------------------------------------------------ |
| partnerTxnUid     | string       | ID to uniquely define each request from partner                                |
| partnerId         | string       | Partner identifier. This ID will be provided to each partner by KBank          |
| statusCode        | string       | Status code                                                                    |
| errorCode         | string       | Code to identify the error                                                     |
| errorDesc         | string       | Description of the error                                                       |
| paymentStatus     | string       | A customer payment transaction status                                          |
| paymentTimeStamp  | long         | timestamp in unix \*has value when status = paid                               |
| paymentRefernceId | string       | A payment reference id generated by kbank use to reference payment transaction |
| slipImage         | binaryBase64 | A shop image in binary64 format                                                |
| paymentAccount    | string       | A payment account in mask format \*has value when status = paid                |
| paymentDt         | long         | timestamp in unix                                                              |
| reference1        | string       | Reference1                                                                     |
| reference2        | string       | Reference2                                                                     |
| totalAmount       | string       | Summary amount of items and shipping fee                                       |
| currencyCode      | string       | Currency Code                                                                  |
| currencyExponent  | string       | Currency Exponent                                                              |
| tokenId           | string       | Order reference id generated by kplus                                          |
| additionalInfo1   | string       | Reserve for additional information                                             |
| additionalInfo2   | string       | Reserve for additional information                                             |
| additionalInfo3   | string       | Reserve for additional information                                             |

**Example Request**

```code
[GROUP][COPYABLE]
---[cURL/curl]---
curl -X POST \
   https://203.146.225.57:12002/kplus/payment/inquire-token \
  -H 'Content-Type: application/json' \
  -d '{
    "partnerTxnUid": "transIrtses222",
    "partnerId":"PTR1902369",
    "partnerSecret":"7da57c4eb242435fa3e91bb7a69e2a28",
    "requestDt": "2019-07-04T18:00:42.411",
    "tokenId": "KMCMPTtbbibmvyvnutyyknckxtngiwaklpcjptykxon34f8PMT"
}'
---[JS/javascript]---
$.ajax({
  method: 'POST',
  url: 'https://203.146.225.57:12002/kplus/payment/inquire-token',
  headers:
   { 'Content-Type': 'application/json' },
  body:
   { partnerTxnUid: 'transIrtses222',
     partnerId: 'PTR1902369',
     partnerSecret: '7da57c4eb242435fa3e91bb7a69e2a28',
     requestDt: '2019-07-04T18:00:42.411',
     tokenId: 'KMCMPTtbbibmvyvnutyyknckxtngiwaklpcjptykxon34f8PMT' }
  );
```

**Example Response**

```json
{
    "partnerId": "PTR1902369",
    "partnerTxnUid": "transIrtses222",
    "errorCode": null,
    "errorDesc": null,
    "statusCode": "00",
    "paymentStatus": "PAID",
    "paymentTimeStamp": null,
    "paymentRefernceId": null,
    "slipImage": null,
    "paymentAccount": null,
    "paymentDt": "2019-07-11T13:53:04",
    "reference1": "KS1234567",
    "reference2": "",
    "totalAmount": 500,
    "currencyCode": "THB",
    "currencyExponent": null,
    "tokenId": "KMCMPTtbbibmvyvnutyyknckxtngiwaklpcjptykxon34f8PMT",
    "additionalInfo1": null,
    "additionalInfo2": null,
    "additionalInfo3": null
}
```
