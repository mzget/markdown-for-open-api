# Cancel Token

**Description**

For cancelling a specified Token

```
[GROUP][COPYABLE]
---[Test Endpoint]---
https://APIPORTALTEST.kasikornbank.com:12002/kplus/payment/cancel-token
```

**Request Parameters**

| Field                        | Data Type | Description                                          | Example                                              | Mandatory |
| ---------------------------- | --------- | ---------------------------------------------------- | ---------------------------------------------------- | :-------: |
| [colspan=5] Header parameter |
| content-type                 | string    | Type of content as application/json                  | application/json                                     |     Y     |
| [colspan=5] Body parameter   |
| partnerTxnUid                | string    | ID to uniquely define each request from partner      | RGH001030118001                                      |     Y     |
| partnerId                    | string    | Partner ID will be provided to each partner by KBank | KP2XXX000033159                                      |     Y     |
| partnerSecret                | string    | Secret key to identify each partner                  | S1AyQ0ZCMDAwMDMzMTU5LWtwbHVzLXNpdC0yYzJwLWZhY2Vib29r |     Y     |
| requestDt                    | long      | Timestamp in unix                                    | 1519630776                                           |     Y     |
| tokenId                      | string    | Order reference id generated by kplus                | KP2XXX00003315900BBC3C374D644DE9F2BA5CDC189C27B      |     Y     |
| reference1                   | string    | Reference1                                           |                                                      |     Y     |

**Response Message**

| Field                | Data Type | Description                                                           |
| -------------------- | --------- | --------------------------------------------------------------------- |
| partnerTxnUid        | string    | ID to uniquely define each request from partner                       |
| partnerId            | string    | Partner identifier. This ID will be provided to each partner by KBank |
| statusCode           | string    | Status code                                                           |
| errorCode            | string    | Code to identify the error                                            |
| errorDesc            | string    | Description of the error                                              |
| tokenList            | array     | Array of token                                                        |
| tokenList.tokenId    | string    | Order reference id generated by kplus                                 |
| tokenList.reference1 | string    | Reference1                                                            |
| tokenList.status     | array     | Status of token                                                       |

**Example Request**

```code
[GROUP][COPYABLE]
---[cURL/curl]---
curl -X POST \
  https://203.146.225.57:12002/kplus/payment/cancel-token \
  -H 'Content-Type: application/json' \
  -d '{
    "partnerTxnUid": "transIrtses152",
    "partnerId":"PTR1902369",
    "partnerSecret":"7da57c4eb242435fa3e91bb7a69e2a28",
    "requestDt": "2019-07-04T18:00:42.411",
    "tokenId": "KMCMPTzpjbelgdzimkogvbmhxyutxytahzyqglfjenb1624PMT",
    "reference1":"av"
}'
---[JS/javascript]---
$.ajax({
  method: 'POST',
  url: 'https://203.146.225.57:12002/kplus/payment/cancel-token',
  headers:
   { 'Content-Type': 'application/json' },
  body:
   { partnerTxnUid: 'transIrtses152',
     partnerId: 'PTR1902369',
     partnerSecret: '7da57c4eb242435fa3e91bb7a69e2a28',
     requestDt: '2019-07-04T18:00:42.411',
     tokenId: 'KMCMPTzpjbelgdzimkogvbmhxyutxytahzyqglfjenb1624PMT',
     reference1: 'av' }
});
```

**Example Response**

```json
{
    "errorCode": "KP9999",
    "errorDesc": "kbank internal error",
    "partnerId": null,
    "partnerTxnUid": null,
    "responseDt": "2019-07-18T21:48:25.621",
    "statusCode": "10",
    "callBackAppUrl": null,
    "expiryDate": null,
    "tokenId": null
}
```
